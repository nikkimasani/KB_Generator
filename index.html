<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>KB Generator - Salesforce Plain Text Prefill</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.5; }
    h1 { color: #2a4b8d; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    textarea, input { width: 100%; padding: 6px; margin-top: 4px; }
    button { margin-top: 15px; padding: 10px 15px; background: #2a4b8d; color: white; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background: #1d355f; }
    #output { white-space: pre-wrap; border: 1px solid #ccc; padding: 15px; margin-top: 20px; background: #f9f9f9; }
  </style>
</head>
<body>
  <h1>Knowledge Base Generator</h1>

  <label>Case Number</label>
  <input id="caseNumber">

  <label>Title</label>
  <input id="title">

  <label>Overview</label>
  <textarea id="overview"></textarea>

  <label>Issue Reported</label>
  <textarea id="issue"></textarea>

  <label>Steps Taken to Resolve</label>
  <textarea id="steps"></textarea>

  <label>Resolution / Notes</label>
  <textarea id="resolution"></textarea>

  <label>Product Category</label>
  <input id="productCategory">

  <label>Product Type</label>
  <input id="productType">

  <label>Environment</label>
  <input id="environment">

  <label>Screenshots (placeholders)</label>
  <textarea id="screenshots" placeholder="[Insert Screenshot 1]"></textarea>

  <button onclick="generate()">Generate KB Template</button>

  <h2>Generated KB Documentation</h2>
  <div id="output"></div>

  <script>
    function getParam(name) {
      return new URLSearchParams(window.location.search).get(name) || '';
    }

    window.onload = function() {
      document.getElementById('caseNumber').value = getParam('caseNumber');
      document.getElementById('title').value = getParam('title');
      document.getElementById('overview').value = getParam('overview');
      document.getElementById('issue').value = getParam('issue');
      document.getElementById('productCategory').value = getParam('productCategory');
      document.getElementById('productType').value = getParam('productType');
      document.getElementById('environment').value = getParam('environment');
    }

    function generate() {
      const out = `Knowledge Base Article
========================

Case Number: ${document.getElementById('caseNumber').value}
Title: ${document.getElementById('title').value}

Overview
--------
${document.getElementById('overview').value}

Issue Reported
--------------
${document.getElementById('issue').value}

Steps Taken to Resolve
----------------------
${document.getElementById('steps').value}

Resolution / Notes
------------------
${document.getElementById('resolution').value}

Product Details
---------------
Category: ${document.getElementById('productCategory').value}
Type: ${document.getElementById('productType').value}
Environment: ${document.getElementById('environment').value}

Screenshots
-----------
${document.getElementById('screenshots').value}
`;
      document.getElementById('output').innerText = out;
    }
  </script>
</body>
</html>
